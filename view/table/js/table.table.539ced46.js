(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["table"],{1185:function(t,e,n){"use strict";n("fa87")},"5b0b":function(t,e,n){},"845a":function(t,e,n){"use strict";n("5b0b")},a15b:function(t,e,n){"use strict";var r=n("23e7"),o=n("e330"),s=n("44ad"),l=n("fc6a"),i=n("a640"),c=o([].join),a=s!=Object,u=i("join",",");r({target:"Array",proto:!0,forced:a||!u},{join:function(t){return c(l(this),void 0===t?",":t)}})},aac5:function(t,e,n){"use strict";n("ba4b")},ba4b:function(t,e,n){},d3c5:function(t,e,n){t.exports=n.p+"img/clickup.1570dc28.png"},f4f7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"custom-table"},[n("TableHeader",{attrs:{fields:t._fields}}),t._l(t.projects,(function(e){return n("Row",{key:e.id,attrs:{fields:t._fields,project:e}})}))],2)},o=[],s=n("5530"),l=(n("d3b7"),n("d81d"),n("94ea")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"custom-table__header"},[n("tr",[t._l(t.fields,(function(e){var r=e.key,o=e.label,s=e.sortable;return[n("Cell",{key:r,attrs:{id:r,scope:"col","is-header":!0,"is-sortable":s},scopedSlots:t._u([{key:"content",fn:function(){return[n("label",[t._v(t._s(o))]),s?n("span",{staticClass:"sorting-btn"}):t._e()]},proxy:!0}],null,!0)})]}))],2)])},c=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.component,{tag:"component",staticClass:"custom-table__cell",class:[t.customClass,t.orderClass],attrs:{colspan:t.colspan,rowspan:t.rowspan},on:{click:t.handlerClick}},[n("div",{staticClass:"custom-table__cell__content"},[t._t("content",(function(){return[t._v("-")]}))],2)])},u=[],d=(n("ac1f"),n("00b4"),n("99af"),n("4e82"),n("430a")),p={name:"Cell",props:{id:{type:String,default:function(){return""}},scope:{type:String,default:function(){return""}},isHeader:{type:Boolean,default:function(){return!1}},rowspan:{type:String,default:function(){return"1"},validator:function(t){return/^\d+$/.test(t)}},colspan:{type:String,default:function(){return"1"},validator:function(t){return/^\d+$/.test(t)}},isSortable:{type:Boolean,default:function(){return!1}}},data:function(){var t="";return{orderClass:t}},computed:Object(s["a"])(Object(s["a"])({},Object(l["e"])({yardsticks:function(t){var e=t.projects;return e.yardsticks}})),{},{component:function(){return this.isHeader?"th":"td"},customClass:function(){return"".concat(this.id).concat(this.isHeader?" custom-table__cell__header":"")}}),methods:Object(s["a"])(Object(s["a"])({},Object(l["c"])({sort:d["p"].ACTIONS.PROJECTS_SORT})),{},{handlerClick:function(){if(this.isSortable){switch(this.orderClass="",this.yardsticks.get(this.id)){case d["k"].ASC:this.orderClass="order-".concat(d["k"].DESC),this.yardsticks.set(this.id,d["k"].DESC);break;case d["k"].DESC:this.yardsticks.delete(this.id);break;default:this.orderClass="order-".concat(d["k"].ASC),this.yardsticks.set(this.id,d["k"].ASC)}this.sort()}}}),mounted:function(){this.yardsticks.has(this.id)&&(this.orderClass="order-".concat(this.yardsticks.get(this.id)))}},f=p,_=(n("1185"),n("2877")),y=Object(_["a"])(f,a,u,!1,null,"2b4d1ef0",null),b=y.exports,k={name:"TableHeader",components:{Cell:b},props:{fields:{type:Array,required:!0,validator:function(t){return t.every((function(t){var e=t.key,n=void 0===e?null:e,r=t.label,o=void 0===r?null:r;return!(null===n||null===o)}))}}}},v=k,j=Object(_["a"])(v,i,c,!1,null,null,null),h=j.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tbody",{staticClass:"custom-table__project",class:[{focus:t.focus},{priority:t.project.priority}],attrs:{tabindex:"0",title:"Cliquez pour afficher/masquer les informations de ce projet"},on:{click:function(e){t.focus=!t.focus}}},[r("tr",[t._l(t.fields,(function(e){var o=e.key;return["actions"===o?r("Cell",{key:o,attrs:{id:o},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",{staticClass:"buttons-group"},[r("button",{attrs:{title:"Supprimer"},on:{click:t.handlerClick__delete}},[r("Icon",{attrs:{icon:"delete"}})],1),r("button",{attrs:{title:"Modifier"},on:{click:t.handlerClick__edit}},[r("Icon",{attrs:{icon:"edit"}})],1)])]},proxy:!0}],null,!0)}):"title"===o?r("Cell",{key:o,attrs:{scope:"row",id:o},scopedSlots:t._u([{key:"content",fn:function(){return[null!==t.project.clickup?r("a",{attrs:{href:t.project.clickup,target:"_blank",title:"Lien ClickUp"}},[r("img",{attrs:{src:n("d3c5"),height:"30px"}})]):t._e(),t._v(" "+t._s(t.project[o])+" ")]},proxy:!0}],null,!0)}):"fields"===o?r("Cell",{key:o,attrs:{id:"fields"},scopedSlots:t._u([t.project.fields.length>0?{key:"content",fn:function(){return[r("ul",t._l(t.project.fields,(function(e,n){return r("li",{key:n},[t._v(t._s(e))])})),0)]},proxy:!0}:null],null,!0)}):"service"===o?r("Cell",{key:o,attrs:{id:o},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" "+t._s(t.project.service)+" "),null!==t.project.applicant&&t.project.applicant.length>0?[r("br"),t._v(t._s(t.project.applicant)+" ")]:t._e()]},proxy:!0}],null,!0)}):"date"===o?r("Cell",{key:o,attrs:{id:o},scopedSlots:t._u([t.project.status===t.STATUS.WAITING&&null!==t.project.date_start?{key:"content",fn:function(){return[t._v(" "+t._s(t.project.date_start._i)+" ")]},proxy:!0}:null!==t.project.date_end?{key:"content",fn:function(){return[t._v(" "+t._s(t.project.date_end._i)+" ")]},proxy:!0}:null],null,!0)}):["developers","users"].includes(o)?r("Cell",{key:o,attrs:{id:o},scopedSlots:t._u([t.project[o].length>0?{key:"content",fn:function(){return[r("ul",t._l(t.project[o],(function(e,n){return r("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0)]},proxy:!0}:null],null,!0)}):r("Cell","progression"===o?{key:o,attrs:{id:"progression"},scopedSlots:t._u([t.project.status!==t.STATUS.WAITING?{key:"content",fn:function(){return[t._v(" "+t._s(t.project.progression)+" % ")]},proxy:!0}:null],null,!0)}:"status"===o?{key:o,class:[t.project.status.toLowerCase().split(" ").join("")+"-txt"],attrs:{id:"status"},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" "+t._s(t.project.status)+" ")]},proxy:!0}],null,!0)}:{key:o,attrs:{id:o},scopedSlots:t._u([null!==t.project[o]?{key:"content",fn:function(){return[t._v(" "+t._s(t.project[o])+" ")]},proxy:!0}:null],null,!0)})]}))],2),r("tr",{staticClass:"custom-table__row custom-table__project__row__2",on:{click:function(t){t.stopPropagation()}}},[r("Cell",{attrs:{id:"description"},scopedSlots:t._u([{key:"content",fn:function(){return[r("h3",[t._v("Description")]),r("p",{domProps:{innerHTML:t._s(t.description)}},[t._v("-")])]},proxy:!0}])}),r("Cell",{attrs:{colspan:t.admin?"9":"8",id:"history"},scopedSlots:t._u([{key:"content",fn:function(){return[r("History",{attrs:{id:t.project.id,history:t.project.history}})]},proxy:!0}])}),t.admin?r("Cell",{attrs:{id:"empty"},scopedSlots:t._u([{key:"content",fn:function(){return[t._v("   ")]},proxy:!0}],null,!1,1952387956)}):t._e()],1)])},m=[],S=(n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("5319"),n("a15b"),n("1276"),function(){return n.e("chunk-77541858").then(n.bind(null,"9d03"))}),O={name:"Row",components:{Cell:b,History:S},props:{project:{type:Object,validator:function(t){var e=t.id,n=void 0===e?null:e,r=t.title,o=void 0===r?null:r,s=t.service,l=void 0===s?null:s,i=t.status,c=void 0===i?null:i;return null!==n&&null!==o&&null!==l&&null!==c}},fields:{type:Array,required:!0,validator:function(t){return t.every((function(t){var e=t.key,n=void 0===e?null:e;return null!==n}))}}},data:function(){var t=!1;return{focus:t}},computed:Object(s["a"])(Object(s["a"])({},Object(l["e"])({admin:function(t){var e=t.admin;return e}})),{},{STATUS:function(){return d["o"]},description:function(){var t,e;return null===(null!==(t=null===(e=this.project)||void 0===e?void 0:e.description)&&void 0!==t?t:null)?"-":this.project.description.replace(/\n/g,"<br>")},statusClass:function(){return this.project.status.toLowerCase().split(" ").join("")}}),methods:Object(s["a"])(Object(s["a"])({},Object(l["c"])({confirm:d["p"].ACTIONS.CONFIRM_SHOW,edit:d["p"].ACTIONS.OVERLAY_SHOW_PROJECT_FORM})),{},{handlerClick__delete:function(){this.confirm({header:"Suppression du projet:<br>".concat(this.project.title),text:"Êtes-vous sûr de vouloir le supprimer ?",action:d["l"].ACTIONS.REMOVE_PROJECTS})},handlerClick__edit:function(){var t=this.project.id;this.edit({id:t})}})},g=O,x=(n("aac5"),Object(_["a"])(g,C,m,!1,null,"35c96db2",null)),T=x.exports,w={name:"CustomTable",components:{TableHeader:h,Row:T},props:{fields:{type:Array,validator:function(t){return t.every((function(t){var e=t.key,n=void 0===e?null:e;return null!==n}))}}},computed:Object(s["a"])(Object(s["a"])({},Object(l["e"])({projects:function(t){var e=t.projects;return e.searched},admin:function(t){var e=t.admin;return e}})),{},{_fields:function(){return this.fields.map((function(t){var e=t.key,n=t.label,r=void 0===n?null:n,o=t.sortable,s=void 0!==o&&o;return null===r?{key:e,label:e}:{key:e,label:r,sortable:s}}))}})},A=w,E=(n("845a"),Object(_["a"])(A,r,o,!1,null,"44f92acd",null));e["default"]=E.exports},fa87:function(t,e,n){}}]);
//# sourceMappingURL=table.table.539ced46.js.map